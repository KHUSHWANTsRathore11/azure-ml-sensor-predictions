# Dev Environment - Reference Documentation

⚠️ **This file is reference documentation only - not loaded by pipelines**

See `docs/VARIABLE_GROUPS_REFERENCE.md` for complete setup instructions.

---

## Variable Groups

Configure these in **Azure DevOps → Pipelines → Library**:

### mlops-dev-variables

Azure ML Dev workspace connection:

```yaml
azureServiceConnection: "Azure-MLOps-Dev"
subscriptionId: "12345678-1234-1234-1234-123456789012"
resourceGroup: "mlops-dev-rg"
workspaceName: "mlops-dev-workspace"
location: "eastus"
```

### mlops-pipeline-settings

Pipeline execution settings (shared across pipelines):

```yaml
# Python & Runtime
pythonVersion: "3.9"
longRunningJobNotificationIntervalHours: 4
mlEngineersEmail: "ml-team@company.com"

# Monitoring
monitoringMaxWaitHours: 3
monitoringPollIntervalSeconds: 30
monitoringLogLevel: "DEBUG"

# Validation (relaxed for dev)
validationMinAccuracy: 0.70
validationMaxMae: 10.0
validationMaxRmse: 15.0

# Retention
retentionModelsDays: 30
retentionLogsDays: 14
```

### mlops-registry-variables

Azure ML Registry connection (shared across environments):

```yaml
registryName: "mlops-central-registry"
registryResourceGroup: "mlops-registry-rg"

# Model propagation settings (exponential backoff)
registryPropagationMaxWaitSeconds: 120
registryPropagationInitialDelaySeconds: 2
registryPropagationMaxDelaySeconds: 30
```

---

## Environment Details

**Purpose:** Active development and model training

**Branch:** `develop`

**Pipelines:**
- `training-pipeline.yml` - Train and register models
- `promote-single-model-pipeline.yml` - Promote models to registry (with approval)

**Approval Environment:**
- `registry-promotion` - Approvers: ML team leads

---

## Azure ML Workspace Settings

**Compute:**
- Training: `Standard_DS3_v2`, 0-4 nodes
- Scoring: `Standard_DS2_v2`, 0-2 nodes

**Training Schedule:**
- Frequency: Daily at 2 AM
- Lookback: 90 days
- Forecast horizon: 7 days

**Model Hyperparameters (dev defaults):**
```yaml
lstm_units: 64
dropout_rate: 0.2
learning_rate: 0.001
epochs: 50
batch_size: 32
early_stopping_patience: 5
```

**Validation Thresholds (relaxed):**
```yaml
min_accuracy: 0.70
max_mae: 10.0
max_rmse: 15.0
min_r2_score: 0.60
```

**Deployment:**
- Auto-deploy: Yes
- Approval required: No
- Traffic: 100%

**Monitoring:**
- Log level: DEBUG
- Alerts: Disabled (dev only)

**Retention:**
- Models: 30 days
- Logs: 14 days
- Datasets: 60 days

---

## Tags

```yaml
environment: "dev"
cost_center: "ml-dev"
owner: "ml-team"
auto_shutdown: "enabled"
```
